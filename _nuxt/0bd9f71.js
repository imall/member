(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{353:function(t,e,n){"use strict";n.r(e);n(62),n(50),n(11),n(21),n(59);var o={name:"addValue-index",head:function(){return{meta:[{name:"theme-color",content:"#ffffff"}]}},data:function(){return{cash:0,showCash:0,merchants:JSON.parse(window.localStorage.getItem("allMerchants"))||[],selectMerchantId:"",addValueRecords:[]}},computed:{isLoading:function(){return this.$store.state.loading.isLoading}},methods:{getWalletRecords:function(){var t=this;this.$store.dispatch("loading/isLoading",!0),this.cash=0;var e=this.selectMerchantId?this.selectMerchantId:"";this.api.customerWalletRecords(e).then((function(e){t.cash=e.data.customerWalletRecords.remainWallet,t.addValueRecords=e.data.customerWalletRecords.walletRecord,t.$store.dispatch("loading/isLoading",!1),t.cashAnimation()})).catch((function(t){console.log(t)}))},cashAnimation:function(){var t=this;if(this.cash>=60)var e=parseInt(this.cash/60),n=setInterval((function(){if(t.showCash+=e,t.showCash>=t.cash){t.showCash=t.cash-10,clearInterval(n);var o=setInterval((function(){t.showCash+=1,t.showCash===t.cash-2&&(setTimeout((function(){t.showCash+=1,setTimeout((function(){t.showCash+=1}),500)}),300),clearInterval(o))}),100)}}),10);else if(this.cash>=10&&this.cash<60)var o=parseInt(this.cash/1),r=setInterval((function(){if(t.showCash+=o,t.showCash>=t.cash){t.showCash=t.cash-10,clearInterval(r);var e=setInterval((function(){t.showCash+=1,t.showCash===t.cash-2&&(setTimeout((function(){t.showCash+=1,setTimeout((function(){t.showCash+=1}),600)}),300),clearInterval(e))}),100)}}),10);else{if(this.cash<=1)return void(this.showCash=this.cash);var l=setInterval((function(){t.showCash+=1,t.showCash===t.cash-1&&(clearInterval(l),setTimeout((function(){t.showCash+=1}),500))}),100)}}},mounted:function(){var t,e,n=JSON.parse(window.localStorage.getItem("merchant"));this.selectMerchantId=null!==(t=this.merchants[0])&&void 0!==t&&t.id?null===(e=this.merchants[0])||void 0===e?void 0:e.id:null==n?void 0:n.id,this.getWalletRecords()}},r=n(33),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("section",{attrs:{id:"firstPos"}},[t._m(0),t._v(" "),t.merchants.length>0&&!t.isLoading?e("div",{staticClass:"text-center mb-5 pb-5 relative after:content-[''] after:w-screen after:h-[1px] after:bg-[#232D4E] after:absolute after:left-[-6%] md:after:left-[-1.5%] after:bottom-0",attrs:{"data-aos":"fade-up","data-aos-duration":"300","data-aos-once":"true","data-aos-delay":"100","data-aos-anchor":"#firstPos"}},[e("div",{staticClass:"w-full relative mb-5"},[t.merchants.length>0?e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectMerchantId,expression:"selectMerchantId"}],staticClass:"w-full p-3 text-center rounded-lg shadow-[0px_2px_2px_rgba(0,0,0,0.25)] bg-white appearance-none",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectMerchantId=e.target.multiple?n:n[0]},function(e){return t.getWalletRecords()}]}},t._l(t.merchants,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(t._s(n.name))])})),0):t._e(),t._v(" "),e("fa",{staticClass:"absolute right-5 top-1/2 -translate-y-1/2",attrs:{icon:"fa-regular fa-angle-down"}})],1),t._v(" "),e("h3",{staticClass:"text-4xl text-[#FEB401] font-bold"},[t._v("$"+t._s(t.showCash))]),t._v(" "),e("p",{pre:!0,attrs:{class:"text-sm mt-2"}},[t._v("剩餘入金")])]):t._e(),t._v(" "),t.addValueRecords.length>0&&!t.isLoading?t._m(5):t._e(),t._v(" "),0!==t.addValueRecords.length||t.isLoading?t._e():e("ul",{staticClass:"bg-white rounded-lg min-h-[211px] shadow-md pt-10",attrs:{"data-aos":"fade-up","data-aos-once":"true","data-aos-duration":"500","data-aos-delay":"150"}},[t._m(6)])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"fixed left-0 top-0 w-full px-[10%] text-lg bg-white py-4 flex items-center"},[e("fa",{staticClass:"text-2xl",attrs:{icon:"fa-solid fa-angle-left"},on:{click:function(e){return t.$router.push("/member")}}}),t._v(" "),e("h2",{pre:!0,attrs:{class:"absolute top-1/2 translate-y-[-50%] left-[50%] translate-x-[-50%] text-lg font-bold"}},[t._v("入金紀錄")])],1)},function(){var t=this._self._c;return t("div",{pre:!0,attrs:{class:"col-span-5"}},[t("p",[this._v("日期")])])},function(){var t=this._self._c;return t("div",{pre:!0,attrs:{class:"col-span-5"}},[t("p",[this._v("類別")])])},function(){var t=this._self._c;return t("div",{pre:!0,attrs:{class:"col-span-5"}},[t("p",[this._v("金額")])])},function(){var t=this._self._c;return t("div",{pre:!0,attrs:{class:"col-span-5"}},[t("p",[this._v("設計師")])])},function(){var t=this,e=t._self._c;return e("ul",{staticClass:"bg-white rounded-xl shadow-md text-sm",attrs:{"data-aos":"fade-up","data-aos-duration":"400","data-aos-once":"true","data-aos-delay":"200","data-aos-anchor":"#firstPos"}},t._l(t.addValueRecords,(function(n,o){return e("li",{key:n.id,staticClass:"px-6 py-5 border-b border-[#aeaeae]",class:{"border-b-0":o+1===t.addValueRecords.length},attrs:{"data-aos":"fade","data-aos-delay":500+100*o,"data-aos-once":"true","data-aos-duration":"400","data-aos-anchor":"#firstPos"}},[e("div",{staticClass:"grid grid-cols-12 gap-4"},[t._m(1,!0),t._v(" "),e("div",{staticClass:"col-span-7"},[e("p",{directives:[{name:"formatDate",rawName:"v-formatDate",value:"time",expression:"'time'"}]},[t._v(t._s(n.date))])]),t._v(" "),t._m(2,!0),t._v(" "),e("div",{staticClass:"col-span-7"},[e("p",[t._v(t._s(n.type))])]),t._v(" "),"使用"===n.type?e("div",{staticClass:"col-span-5"},[e("p",[t._v("訂單編號")])]):t._e(),t._v(" "),"使用"===n.type?e("div",{staticClass:"col-span-7"},[e("p",[t._v(t._s(n.orderNo))])]):t._e(),t._v(" "),t._m(3,!0),t._v(" "),e("div",{staticClass:"col-span-7 flex gap-1",class:{"text-[#16A34A]":"存入"===n.type,"text-[#F43F5E]":"存入"!==n.type}},["存入"===n.type?e("span",[t._v("+")]):e("span",[t._v("-")]),t._v(" "),e("span",[t._v("$"+t._s(n.price))])]),t._v(" "),t._m(4,!0),t._v(" "),e("div",{staticClass:"col-span-7"},[e("p",[t._v(t._s(n.designerName))])]),t._v(" "),n.payType?e("div",{staticClass:"col-span-5"},[e("p",[t._v("付款方式")])]):t._e(),t._v(" "),n.payType?e("div",{staticClass:"col-span-7"},[e("p",[t._v(t._s(n.payType))])]):t._e()])])})),0)},function(){var t=this._self._c;return t("li",{staticClass:"text-center text-sm text-[#aeaeae]"},[t("p",[this._v("目前無資料")])])}],!1,null,null,null);e.default=component.exports}}]);